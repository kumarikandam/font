'use strict';module.exports=function(r,t={}){function u(b){const g=/url\((.+?)\).*?;\s+unicode-range: (.+?);/g;let c={};const e=[];let h;for(;h=g.exec(b);){const [,a,d]=h;e.push({url:a,a:d});c[d]=1}c=Object.keys(c).reduce((a,d)=>{const f=d.split(/,\s/).map(v=>v.replace("U+","\\u").replace("-","-\\u")).join("").toLowerCase();a[d]=new RegExp(`[${f}]`);return a},{});const m=document.body?document.body.innerText:"",w=m?Object.keys(c).reduce((a,d)=>{c[d].test(m)&&(a[d]=!0);return a},{}):Object.keys(c).reduce((a,d)=>
{d in t&&(a[d]=!0);return a},{});k=e.filter(({a})=>a in w).map(({url:a})=>a);if(!k.length)return n();const p=document.createDocumentFragment();k.forEach((a,d)=>{const f=document.createElement("link");f.href=a;f.rel="preload";f.as="font";performance.mark("link-preload-start"+d);f.onload=()=>n(d);f.setAttribute("crossorigin",!0);p.appendChild(f)});document.head.appendChild(p)}const x=(b,g,c="")=>{performance.mark("xhr-start"+c);const e=new XMLHttpRequest;e.onreadystatechange=()=>{4==e.readyState&&(200==
e.status?(g(e.responseText),performance.mark("xhr-end"+c),performance.measure("xhr"+c,"xhr-start"+c,"xhr-end"+c)):console.error("Error loading webfont: server responded with code %s at %s",e.status,b))};e.open("GET",b);try{e.send(null)}catch(h){console.error(h)}};performance.mark("agf-start");let l;(function(b,g="link"){x(b.href,c=>{l=c;u(l)},"-"+g)})({href:r},"js");let k=[],q=0;const n=b=>{b&&(performance.mark("link-preload-end"+b),performance.measure("link-preload","link-preload-start"+b,"link-preload-end"+
b));q++;q>=k.length&&(b=document.createElement("style"),b.innerHTML=l,document.head.appendChild(b),performance.mark("agf-end"),performance.measure("@lemuria/font","agf-start","agf-end"))}};

//# sourceMappingURL=f.js.map