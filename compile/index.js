'use strict';module.exports=function(q){const r=(h,l,e="")=>{performance.mark("xhr-start"+e);const b=new XMLHttpRequest;b.onreadystatechange=()=>{4==b.readyState&&(200==b.status?(l(b.responseText),performance.mark("xhr-end"+e),performance.measure("xhr"+e,"xhr-start"+e,"xhr-end"+e)):console.error("Error loading webfont: server responded with code %s at %s",b.status,h))};b.open("GET",h);try{b.send(null)}catch(k){console.error(k)}};performance.mark("agf-start");(function(h,l="link"){let e;r(h.href,d=>{e=d;const t=
/url\((.+?)\).*?;\s+unicode-range: (.+?);/g;let g={};const m=[];let n;for(;n=t.exec(d);){const [,a,c]=n;m.push({url:a,a:c});g[c]=1}g=Object.keys(g).reduce((a,c)=>{const f=c.split(/,\s/).map(u=>u.replace("U+","\\u").replace("-","-\\u")).join("").toLowerCase();a[c]=new RegExp(`[${f}]`);return a},{});const v=document.body?document.body.innerText:"",w=Object.keys(g).reduce((a,c)=>{g[c].test(v)&&(a[c]=!0);return a},{});b=m.filter(({a})=>a in w).map(({url:a})=>a);if(!b.length)return p();b.forEach((a,c)=>
{const f=document.createElement("link");f.href=a;f.rel="preload";f.as="font";performance.mark("link-preload-start"+c);f.onload=()=>p(c);f.setAttribute("crossorigin",!0);document.head.appendChild(f)})},"-"+l);let b=[],k=0;const p=d=>{d&&(performance.mark("link-preload-end"+d),performance.measure("link-preload","link-preload-start"+d,"link-preload-end"+d));k++;k>=b.length&&(d=document.createElement("style"),d.innerHTML=e,document.head.appendChild(d),performance.mark("agf-end"),performance.measure("@lemuria/font",
"agf-start","agf-end"))}})({href:q},"js")};

//# sourceMappingURL=index.js.map